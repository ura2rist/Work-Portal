{"version":3,"sources":["http/index.js","API/fetchApi.js","components/EventsItem.jsx","utils/pages.js","pages/Events.jsx","components/DirectoryMenu.jsx","components/DirectorySearch.jsx","components/DirectoryTable.jsx","pages/Directory.jsx","components/NewsItem.jsx","pages/News.jsx","pages/Signin.jsx","pages/NewsIdPage.jsx","pages/NewsIdPageEdit.jsx","components/AdminMenu.jsx","pages/Panel.jsx","services/UserService.js","pages/Admin.jsx","components/modal/Modal.jsx","components/Users.jsx","components/NewsItemEdit.jsx","components/EditNews.jsx","components/AppRouter.jsx","components/UI/MainButton/MainButton.jsx","components/MainMenu.jsx","components/Header.jsx","App.js","services/AuthService.js","store/store.js","index.js"],"names":["$api","axios","create","withCredentials","baseURL","interceptors","request","use","config","headers","Authorization","localStorage","getItem","FetchApi","this","ip","get","then","response","data","limit","page","params","id","category","subCategory","search","post","allSearch","fetchApi","EventsItem","title","content","date","className","getPagesCount","totalCount","Math","ceil","getPagesArray","totalPages","pagesArray","i","push","Events","useState","events","setEvents","setTotalPages","setPage","pageArray","useEffect","getEventsItems","resCount","resData","map","item","p","onClick","changePage","DirectoryMenu","select","setSelect","props","setCategory","clickCategory","event","stopPropagation","getAllCategory","getDirectory","setPeople","subCategories","sub","DirectorySearch","action","onSubmit","e","preventDefault","target","value","searchRange","length","getSearchForm","type","placeholder","name","style","width","defaultChecked","htmlFor","DirectoryTable","people","Fragment","rank","phone","mainPhone","description","Directory","NewsItem","author","router","useNavigate","News","news","setNews","getNewsItems","idAuthor","userId","Signin","login","setLogin","password","setPassword","store","useContext","Context","onChange","NewsIdPage","useParams","newsItem","setNewsItem","getByIdNews","user","NewsIdPageEdit","setTitle","setContent","setAuthor","users","setUsers","status","setStatus","getUsers","currentTarget","saveNews","AdminMenu","to","Panel","logout","UserService","observer","isAuth","Modal","active","setActive","children","Users","setUser","modalActive","setModalActive","editUser","setEditUser","newPassword","setNewPassword","newLogin","setNewLogin","newFio","setNewFio","addUser","searchUser","dataset","iditem","callModal","removeUser","filter","changeUser","EditNews","NewsItemEdit","AppRouter","path","element","MainButton","link","MainMenu","menu","setMenu","getMenuItems","men","Header","checkAuth","AuthService","Store","makeAutoObservable","bool","a","setItem","accessToken","setAuth","console","log","message","removeItem","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.a3ab2c6a.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport const ADMIN_URL = 'https://94.228.124.130:433/admin/';\r\n\r\nconst $api = axios.create({\r\n  withCredentials: true,\r\n  baseURL: ADMIN_URL\r\n});\r\n\r\n$api.interceptors.request.use((config) => {\r\n  config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`;\r\n  return config;\r\n})\r\n\r\nexport default $api;","import axios from 'axios';\r\nimport $api from '../http';\r\n\r\nclass FetchApi {\r\n  constructor() {\r\n    this.ip = 'https://94.228.124.130:433/api/';\r\n  }\r\n\r\n  getMenuItems() {\r\n    return axios.get(this.ip + 'menu')\r\n      .then(response => response.data)\r\n  }\r\n\r\n  getNewsItems(limit = 10, page = 1) {\r\n    return axios.get(this.ip + 'news', {\r\n      params: {\r\n        limit: limit,\r\n        page: page\r\n      }\r\n    })\r\n      .then(response => response)\r\n  }\r\n\r\n  getEventsItems(limit = 8, page = 1) {\r\n    return axios.get(this.ip + 'events', {\r\n      params: {\r\n        limit: limit,\r\n        page: page\r\n      }\r\n    })\r\n      .then(response => response)\r\n  }\r\n\r\n  getByIdNews(id) {\r\n    return axios.get(this.ip + 'news/' + id)\r\n      .then(response => response.data)\r\n  }\r\n\r\n  getAllCategory() {\r\n    return axios.get(this.ip + 'directory/category')\r\n      .then(response => response.data)\r\n  }\r\n\r\n  getCategory(category) {\r\n    return axios.get(this.ip + 'directory/person')\r\n      .then(response => response.data)\r\n  }\r\n\r\n  getDirectory(category, subCategory = null) {\r\n    return axios.get(this.ip + 'directory/people', {\r\n      params: {\r\n        category: category,\r\n        subCategory: subCategory\r\n      }\r\n    })\r\n      .then(response => response.data)\r\n  }\r\n\r\n  getSearchForm(search) {\r\n    return axios.post(this.ip + 'directory/search', {\r\n        allSearch: search.allSearch,\r\n        data: search.data,\r\n        category: search.category,\r\n    })\r\n      .then(response => response.data)\r\n  }\r\n}\r\n\r\nconst fetchApi = new FetchApi();\r\n\r\nexport default fetchApi;","import React from 'react';\r\n\r\nfunction EventsItem({ title, content, date }) {\r\n  return (\r\n    <article className='events__element'>\r\n      <h1>{ title }</h1>\r\n      <p>{ content }</p>\r\n      <span>{ date }</span>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default EventsItem;","export function getPagesCount(totalCount, limit = 10) {\r\n  return Math.ceil(totalCount / limit);\r\n}\r\n\r\nexport function getPagesArray(totalPages) {\r\n  let pagesArray = [];\r\n  for(let i = 0; i < totalPages; i++) {\r\n    pagesArray.push(i+1);\r\n  }\r\n  return pagesArray;\r\n}","import React, { useEffect, useState } from 'react';\r\nimport fetchApi from '../API/fetchApi';\r\nimport EventsItem from '../components/EventsItem';\r\nimport { getPagesArray, getPagesCount } from '../utils/pages';\r\n\r\nfunction Events() {\r\n  const [ events, setEvents ] = useState([]);\r\n  const [ totalPages, setTotalPages ] = useState(0);\r\n  const [ page, setPage ] = useState(1);\r\n  const pageArray = getPagesArray(totalPages);\r\n\r\n  useEffect(() => {\r\n    fetchApi.getEventsItems(8, page)\r\n      .then((response) => {\r\n        const [ resCount, resData ] = response.data;\r\n        setEvents(resData);\r\n        setTotalPages(getPagesCount(resCount, 8));\r\n      })\r\n  }, [ page ])\r\n\r\n  function changePage(page) {\r\n    setPage(page);\r\n  }\r\n\r\n  return (\r\n    <section className='events'>\r\n      <div className='events__list'>\r\n        {\r\n          events.map(item => \r\n            <EventsItem title={ item.title } key={ item.id } content={ item.content } date={ item.date }/>\r\n          )\r\n        }\r\n      </div>\r\n      <ul className='pagination'>\r\n        {\r\n          pageArray.map(p =>\r\n            <li onClick={ () => changePage(p) } key={ p } className={ p === page ? 'pagination__element_active pagination__element' : 'pagination__element' }>{ p }</li>\r\n          )\r\n        }\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Events;","import React, { useEffect, useState } from 'react';\r\nimport fetchApi from '../API/fetchApi';\r\n\r\nfunction DirectoryMenu({ select, setSelect, ...props }) {\r\n  const [ category, setCategory] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchApi.getAllCategory()\r\n      .then((response) => {\r\n        setCategory(response)\r\n      })\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(select.category){\r\n      fetchApi.getDirectory(select.category, select.subCategory)\r\n        .then((response) => {\r\n          props.setPeople(response)\r\n        })\r\n    }\r\n  }, [ select ])\r\n\r\n  function clickCategory(data, event) {\r\n    event.stopPropagation();\r\n    setSelect({ category: data.category, subCategory: data.subCategory });\r\n  }\r\n\r\n  return (    \r\n    <ul className='directory__menu'>\r\n      { \r\n        category.map(item =>\r\n          item.subCategories ? \r\n            <li key={ item.id } onClick = { (event) => clickCategory({ category: item.id, subCategory: null }, event) } className='directory__element'>\r\n              { item.category }\r\n              <ul className='directory__sub-menu'>\r\n                {\r\n                  item.subCategories.map((sub) => <li key={ sub.id } onClick = { (event) => clickCategory({ category: item.id, subCategory: sub.id }, event) } className='directory__element'>{ sub.category }</li>)\r\n                }\r\n              </ul>\r\n            </li>\r\n            : <li key={ item.id } className='directory__element'>{ item.category }</li>\r\n        )\r\n      }\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default DirectoryMenu;","import React from 'react';\r\nimport fetchApi from '../API/fetchApi';\r\n\r\nfunction DirectorySearch({ setPeople, ...props }) {\r\n  function search(e) {\r\n    e.preventDefault();\r\n    let search = e.target.search.value;\r\n    let searchRange = e.target.searchRange.value;\r\n    \r\n    if(search.length === 0) {\r\n      return;\r\n    }\r\n\r\n    let data = {\r\n      allSearch: searchRange === 'all' ? true : false,\r\n      data: search,\r\n      category: props.select.category\r\n    }\r\n\r\n    fetchApi.getSearchForm(data)\r\n      .then((response) => {\r\n        setPeople(response);\r\n      })\r\n  }\r\n\r\n  return (\r\n    <form action=\"\" className=\"directory__form\" onSubmit={ (e) => search(e) }>\r\n      <input type=\"text\" placeholder=\"Поиск\" name=\"search\" className=\"directory__search\"/>\r\n      <input type='submit' className='directory__button' value='Поиск'/>\r\n      <div style={{width: '80%'}}>\r\n        <input type=\"radio\" id=\"searchChoice1\" name=\"searchRange\" value=\"all\" defaultChecked/>\r\n        <label htmlFor=\"searchChoice1\">Везде</label>\r\n        <input type=\"radio\" id=\"searchChoice2\" name=\"searchRange\" value=\"this\"/>\r\n        <label htmlFor=\"searchChoice2\">В Категории</label>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default DirectorySearch;","import React from 'react';\r\n\r\nfunction DirectoryTable({ people }) {\r\n  return (\r\n    <section>\r\n      { people.map(item =>\r\n        <React.Fragment key={ item.id }>\r\n        <h2>{ item.category }</h2>\r\n          {\r\n            item.subCategory.map(subCategory =>\r\n              <table className='directory__table' key={ subCategory.id }>\r\n                <caption>{ subCategory.name }</caption>\r\n                <thead>\r\n                  <tr>\r\n                    <th>ФИО</th>\r\n                    <th>Должность</th>\r\n                    <th>Внешний телефон</th>\r\n                    <th>Внутренний телефон</th>\r\n                    <th>Описание</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {\r\n                    subCategory.data.map(data =>\r\n                      <tr key={ data }>\r\n                        <td>{ data.name }</td>\r\n                        <td>{ data.rank }</td>\r\n                        <td>{ data.phone }</td>\r\n                        <td>{ data.mainPhone }</td>\r\n                        <td>{ data.description }</td>\r\n                      </tr>\r\n                    )\r\n                  }\r\n                </tbody>\r\n              </table>\r\n            )\r\n          }\r\n        </React.Fragment>\r\n      ) }\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default DirectoryTable;","import React, { useEffect, useState } from 'react';\r\nimport DirectoryMenu from '../components/DirectoryMenu';\r\nimport DirectorySearch from '../components/DirectorySearch';\r\nimport DirectoryTable from '../components/DirectoryTable';\r\n\r\nfunction Directory() {\r\n  const [ people, setPeople ] = useState([]);\r\n  const [ select, setSelect ] = useState({category: null, subCategory: null});\r\n\r\n  return (\r\n    <section className='directory'>\r\n      <section className='directory__category'>\r\n        <DirectoryMenu setPeople={ setPeople } select={ select } setSelect={ setSelect } />\r\n      </section>\r\n      <section className='directory__content'>\r\n        <DirectorySearch setPeople={ setPeople } select={ select }/>\r\n        { people && people.length != 0 ? <DirectoryTable people={ people }/> : <p>Выберите категорию</p> }\r\n      </section>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Directory;","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction NewsItem({ title, content, author, date, id }) {\r\n  const router = useNavigate();\r\n\r\n  return (\r\n    <article className='news__element'>\r\n      <h1>{ title }</h1>\r\n      <main>\r\n        <div>\r\n          { content }...\r\n        </div>\r\n        <div>\r\n          <p><span>{ author }</span> <span>{ date }</span></p>\r\n        </div>\r\n        <div>\r\n          <span className='news__full' onClick={ () => router(`/news/${id}`) }>Читать далее...</span>\r\n        </div>\r\n      </main>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default NewsItem;","import React, { useEffect, useState } from 'react';\r\nimport NewsItem from '../components/NewsItem';\r\nimport fetchApi from '../API/fetchApi';\r\nimport { getPagesCount, getPagesArray } from '../utils/pages'\r\n\r\n\r\nfunction News() {\r\n  const [ news, setNews ] = useState([]);\r\n  const [ totalPages, setTotalPages ] = useState(0);\r\n  const [ page, setPage ] = useState(1);\r\n  let pageArray = getPagesArray(totalPages);\r\n\r\n  useEffect(()=>{\r\n    fetchApi.getNewsItems(10, page)\r\n      .then((response) => {\r\n        const [ resCount, resData ] = response.data;\r\n        setNews(resData);\r\n        setTotalPages(getPagesCount(resCount));\r\n      })\r\n  }, [ page ])\r\n\r\n  function changePage(page) {\r\n    setPage(page);\r\n  }\r\n\r\n  return (\r\n    <section className='news'>\r\n      <div>\r\n        {\r\n          news.map(item => \r\n            <NewsItem title={ item.title } key={ item.id } id={ item.id } content={ item.content } date={ item.date } author={ item['user.login'] } idAuthor={ item.userId } />\r\n          )\r\n        }\r\n      </div>\r\n      <ul className='pagination'>\r\n        {\r\n          pageArray.map(p =>\r\n            <li onClick={ () => changePage(p) } key={ p } className={ p === page ? 'pagination__element_active pagination__element' : 'pagination__element' }>{ p }</li>\r\n          )\r\n        }\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default News;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Context } from '../index';\r\n\r\nfunction Signin() {\r\n  const [ login, setLogin ] = useState('');\r\n  const [ password, setPassword ] = useState('');\r\n  const { store } = useContext(Context);\r\n\r\n  return (\r\n    <div>\r\n        <input type=\"text\" name=\"login\" onChange={ e => setLogin(e.target.value) } value={ login } />\r\n        <input type=\"password\" name=\"password\" onChange={ e => setPassword(e.target.value) } value={ password } />\r\n        <button onClick = { () => store.login(login, password) }>Войти</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signin;","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport fetchApi from '../API/fetchApi';\r\n\r\nfunction NewsIdPage() {\r\n  const params = useParams();\r\n  const [ newsItem, setNewsItem ] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchApi.getByIdNews(params.id)\r\n      .then(setNewsItem)\r\n  }, [params.id]);\r\n  \r\n  return (\r\n    <div>\r\n      <h1>{ newsItem?.title }</h1>\r\n      <div>\r\n        { newsItem?.content }   \r\n      </div>\r\n      <div>\r\n        <p><span>Автор: </span>{ newsItem?.user?.login }</p>\r\n        <p><span>Дата публикации: </span>{ newsItem?.date }</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsIdPage;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport fetchApi from '../API/fetchApi';\r\nimport { Context } from '../index';\r\n\r\nfunction NewsIdPageEdit() {\r\n  const params = useParams();\r\n  const [ newsItem, setNewsItem ] = useState(null);\r\n  const [ title, setTitle ] = useState('');\r\n  const [ content, setContent ] = useState(''); \r\n  const [ author, setAuthor ] = useState('');\r\n  const [ users, setUsers ] = useState([]);\r\n  const { store } = useContext(Context);\r\n  const [ status, setStatus ] = useState(false);\r\n\r\n  function getUsers() {\r\n    const response = store.getUsers();\r\n\r\n    response.then(item => setUsers(item.data));\r\n  }\r\n\r\n  function saveNews() {\r\n    const response  = store.saveNews({ id: params.id, title, content, author });\r\n\r\n    response.then(item => setStatus(item));\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchApi.getByIdNews(params.id)\r\n      .then((response) => {\r\n        setNewsItem(response);\r\n        setTitle(response.title);\r\n        setContent(response.content);\r\n        setAuthor(response.user ? response.user.login : '' );\r\n      })\r\n      .then(getUsers());\r\n  }, [params.id]);\r\n  \r\n  return (\r\n    <div>\r\n      <input type=\"text\" value={ title } onChange={(event) => setTitle(event.target.value)}/>\r\n      <div>\r\n        <textarea value={ content } onChange={(event) => setContent(event.target.value)}></textarea>\r\n      </div>\r\n      <div>\r\n        <p>\r\n          <span>Автор: </span>\r\n          <select value={ author } onChange={ (event) => setAuthor(event.currentTarget.value) }>\r\n              <option value=''>Ничего</option>\r\n            { users.map((item) =>\r\n              <option \r\n                key={ item.id } \r\n                value={ item.login }\r\n                >\r\n                { item.login }\r\n              </option>\r\n            ) }\r\n          </select>\r\n        </p>\r\n        <p><span>Дата публикации: </span>{ newsItem?.date }</p>\r\n      </div>\r\n      <button onClick={ () => saveNews() }>Сохранить</button>\r\n      { status && <h2>Сохранено</h2> }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsIdPageEdit;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction AdminMenu() {\r\n  return (\r\n    <ul className='navAdmin'>\r\n      <li><Link to='/admin/signin/users'>Пользователи</Link></li>\r\n      <li><Link to='/admin/signin/news'>Новости</Link></li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default AdminMenu;","import React, { useContext } from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport AdminMenu from '../components/AdminMenu';\r\nimport { Context } from \"../index\";\r\n\r\nfunction Panel() {\r\n  const { store } = useContext(Context);\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={ () => store.logout() }>Выйти</button>\r\n      <div>\r\n        <AdminMenu />\r\n        <Outlet />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Panel;","import $api from \"../http\";\r\n\r\nexport default class UserService {\r\n    static getUsers() {\r\n        return $api.get('/users');\r\n    }\r\n\r\n    static async addUser(login, password) {\r\n      return $api.post('/adduser', { login, password });\r\n    }\r\n\r\n    static async searchUser(name) {\r\n      return $api.post('/searchuser', { name });\r\n    }\r\n\r\n    static async removeUser(id) {\r\n      return $api.post('/removeUser', { id });\r\n    }\r\n\r\n    static async changeUser(id, data) {\r\n      return $api.post('/changeUser', { id, data });\r\n    }\r\n\r\n    static async saveNews(data) {\r\n      return $api.post('/savenews', { data });\r\n    }\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport Panel from './Panel';\r\nimport Signin from './Signin';\r\nimport { Context } from '../index';\r\nimport { observer } from 'mobx-react-lite';\r\nimport UserService from '../services/UserService';\r\n\r\nfunction Admin() {\r\n  const { store } = useContext(Context);\r\n\r\n  return (\r\n    <section>\r\n      { !store.isAuth ? <Signin /> : <Panel /> }\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default observer(Admin);","import React from 'react';\r\nimport './modal.css';\r\n\r\nfunction Modal({ active, setActive, children }) {\r\n  return (\r\n    <div className={ active ? 'modal modal_active' : 'modal' } onClick={ () => setActive(false) }>\r\n      <div className='modal__content' onClick={ e => e.stopPropagation() }>\r\n        { children }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Modal;","import React, { useState, useContext } from 'react';\r\nimport { Context } from '../index';\r\nimport Modal from './modal/Modal';\r\n\r\nfunction Users() {\r\n  let [ user, setUser ] = useState('');\r\n  let [ password, setPassword ] = useState('');\r\n  let [ users, setUsers ] = useState([]);\r\n  let [ modalActive, setModalActive ] = useState(false);\r\n  let [ editUser, setEditUser ] = useState();\r\n  let [ newPassword, setNewPassword ] = useState('');\r\n  let [ newLogin, setNewLogin ] = useState('');\r\n  let [ newFio, setNewFio ] = useState('');\r\n  const { store } = useContext(Context);\r\n\r\n  function getUsers() {\r\n    const response = store.getUsers();\r\n\r\n    response.then(item => setUsers(item.data));\r\n  }\r\n\r\n  function changeUser(id, data) {\r\n    const response = store.changeUser(id, data);\r\n  \r\n    response.then(() => {\r\n      setModalActive(false)\r\n    \r\n      setNewPassword('');\r\n      setNewFio('');\r\n      setNewLogin('');\r\n    });\r\n  }\r\n\r\n  function removeUser(id) {\r\n    const response = store.removeUser(id);\r\n\r\n    response.then(item => {\r\n      setUsers(users.filter((item) => item.id != id));\r\n\r\n      setModalActive(false);\r\n    })\r\n  }\r\n\r\n  function callModal(event) {\r\n    setModalActive(true);\r\n\r\n    setEditUser(event.target.dataset.iditem);\r\n  }\r\n\r\n  function searchUser(name) {\r\n    const response = store.searchUser(name);\r\n\r\n    response.then(item => setUsers(item.data));\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <input value={ user } onChange={ e => setUser(e.target.value) } placeholder='Логин' type='text' />\r\n        <input value={ password } onChange={ e => setPassword(e.target.value) } placeholder='Пароль' type='password' />\r\n        <button onClick={ () => store.addUser(user, password) }>Добавить</button>\r\n      </div>\r\n      <div>\r\n        <input onChange={ e => searchUser(e.target.value) } placeholder='поиск' name='name'/>\r\n        <button onClick={ () => getUsers() }>Показать всех пользователей</button>\r\n      </div>\r\n      <ul>\r\n        { users.length > 0 && users.map(item => \r\n          <li key={ item.id }>{ item.login } <button data-iditem={ item.id } data-login={ item.login } onClick={ (event) => callModal(event) }>Редактировать</button></li>\r\n        ) }\r\n      </ul>\r\n      <Modal active={ modalActive } setActive={ setModalActive }>\r\n          <input placeholder='Новый логин' type=\"text\" name=\"login\" value={ newLogin } onChange={ (event) => setNewLogin(event.target.value) }/>\r\n          <input placeholder='Новый пароль' type=\"password\" name=\"password\" value={ newPassword } onChange={ (event) => setNewPassword(event.target.value) }/>\r\n          <input placeholder='ФИО которое привязать' type=\"text\" name=\"fio\" value={ newFio } onChange={ (event) => setNewFio(event.target.value) }/>\r\n          <button onClick={ () => removeUser(editUser) }>Удалить</button>\r\n          <button onClick={ () => changeUser(editUser, { newLogin, newPassword, newFio }) }>Изменить</button>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;","import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction NewsItem({ title, content, author, date, id }) {\r\n  const router = useNavigate();\r\n\r\n  return (\r\n    <article className='news__element'>\r\n      <h1>{ title }</h1>\r\n      <main>\r\n        <div>\r\n          { content }...\r\n        </div>\r\n        <div>\r\n          <p><span>{ author }</span> <span>{ date }</span></p>\r\n        </div>\r\n        <div>\r\n          <span className='news__full' onClick={ () => router(`/admin/signin/newsEdit/${id}`) }>Редактировать</span>\r\n        </div>\r\n      </main>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default NewsItem;","import React, { useEffect, useState } from 'react';\r\nimport NewsItemEdit from '../components/NewsItemEdit';\r\nimport fetchApi from '../API/fetchApi';\r\nimport { getPagesCount, getPagesArray } from '../utils/pages'\r\n\r\nfunction EditNews() {\r\n  const [ news, setNews ] = useState([]);\r\n  const [ totalPages, setTotalPages ] = useState(0);\r\n  const [ page, setPage ] = useState(1);\r\n  let pageArray = getPagesArray(totalPages);\r\n\r\n  useEffect(()=>{\r\n    fetchApi.getNewsItems(10, page)\r\n      .then((response) => {\r\n        const [ resCount, resData ] = response.data;\r\n        setNews(resData);\r\n        setTotalPages(getPagesCount(resCount));\r\n      })\r\n  }, [ page ])\r\n\r\n  function changePage(page) {\r\n    setPage(page);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {\r\n          news.map(item => \r\n            <NewsItemEdit title={ item.title } key={ item.id } id={ item.id } content={ item.content } date={ item.date } author={ item['user.login'] } idAuthor={ item.userId } />\r\n          )\r\n        }\r\n      </div>\r\n      <ul className='pagination'>\r\n        {\r\n          pageArray.map(p =>\r\n            <li onClick={ () => changePage(p) } key={ p } className={ p === page ? 'pagination__element_active pagination__element' : 'pagination__element' }>{ p }</li>\r\n          )\r\n        }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditNews;","import React, { useState } from 'react';\r\nimport Events from '../pages/Events';\r\nimport Directory from '../pages/Directory';\r\nimport News from '../pages/News';\r\nimport Signin from '../pages/Signin';\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport NewsIdPage from '../pages/NewsIdPage';\r\nimport NewsIdPageEdit from '../pages/NewsIdPageEdit';\r\nimport Admin from '../pages/Admin';\r\nimport Users from './Users';\r\nimport EditNews from './EditNews';\r\n\r\nfunction AppRouter() {\r\n  return (\r\n    <Routes>\r\n      <Route path=\"/news\" element={ <News /> } />\r\n      <Route path=\"/news/:id\" element={ <NewsIdPage /> } />\r\n      <Route path=\"/events\" element={ <Events /> } />\r\n      <Route path=\"/directory\" element={ <Directory /> } />\r\n      <Route path=\"/admin/signin\" element={ <Admin /> }>\r\n        <Route path=\"users\" element={ <Users /> } />\r\n        <Route path=\"news\" element={ <EditNews /> } />\r\n      </Route>\r\n      <Route path=\"/admin/signin/newsEdit/:id\" element={ <NewsIdPageEdit /> } />\r\n      <Route path=\"*\" element={ <News /> } />\r\n    </Routes>\r\n  );\r\n};\r\n\r\nexport default AppRouter;","import React from 'react';\r\nimport './MainButton.css';\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nfunction MainButton( props ) {\r\n  return (\r\n    <li className='main__button'>\r\n      <Link to={ props.link }>{ props.children }</Link>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default MainButton;","import React, { useState, useEffect } from 'react';\r\nimport MainButton from './UI/MainButton/MainButton';\r\nimport fetchApi from '../API/fetchApi';\r\n\r\n\r\nfunction MainMenu() {\r\n  const [ menu, setMenu ] = useState([]);\r\n\r\n  useEffect(()=> {\r\n    fetchApi.getMenuItems()\r\n      .then(setMenu)\r\n  }, [])\r\n\r\n  return (\r\n    <ul className=\"menu\">\r\n      { \r\n        menu.map(men => \r\n          <MainButton key={ men.id } link={ men.link }>{ men.title }</MainButton>\r\n        )\r\n      }\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default MainMenu;","import React from 'react';\r\nimport MainMenu from './MainMenu';\r\nimport MainButton from './UI/MainButton/MainButton';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className='header'>\r\n      <nav>\r\n        <MainMenu />\r\n      </nav>\r\n      <ul className='account-menu'>\r\n        <MainButton link=\"/admin/signin\">Войти</MainButton>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import { useEffect, useContext } from 'react';\r\nimport './App.css';\r\nimport { Context } from './index';\r\nimport AppRouter from './components/AppRouter';\r\nimport Header from './components/Header';\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nfunction App() {\r\n  const { store } = useContext(Context);\r\n  useEffect(() => {\r\n    if(localStorage.getItem('token')) {\r\n      store.checkAuth();\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <article className='App'>\r\n      <Header />\r\n      <main>\r\n        <AppRouter />\r\n      </main>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default observer(App);\r\n","import $api from \"../http\";\r\n\r\nexport default class AuthService {\r\n  static async login(login, password) {\r\n    return $api.post('/signin', {login, password});\r\n  };\r\n\r\n  static async registration(login, password) {\r\n    return $api.post('/registration', {login, password});\r\n  };\r\n\r\n  static async logout() {\r\n    return $api.post('/logout');\r\n  };\r\n}\r\n\r\n","import { makeAutoObservable } from 'mobx';\r\nimport AuthService from '../services/AuthService';\r\nimport axios from 'axios';\r\nimport $api from \"../http\";\r\nimport UserService from '../services/UserService';\r\n\r\nexport default class Store {\r\n  isAuth = false;\r\n  user = {};\r\n\r\n  constructor() {\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setAuth(bool) {\r\n    this.isAuth = bool;\r\n  }\r\n\r\n  setUser(user) {\r\n    this.user = user;\r\n  }\r\n\r\n  async login(login, password) {\r\n    try {\r\n      const response = await AuthService.login(login, password);\r\n      localStorage.setItem('token', response.data.accessToken);\r\n      this.setAuth(true);\r\n      this.setUser(response.data.user);\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async logout(login, password) {\r\n    try {\r\n      const response = await AuthService.logout();\r\n      localStorage.removeItem('token');\r\n      this.setAuth(false);\r\n      this.setUser({});\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async checkAuth() {\r\n    try {\r\n      const response = await axios.get(`https://94.228.124.130:433/admin/refresh`, { withCredentials: true });\r\n      localStorage.setItem('token', response.data.accessToken);\r\n      this.setAuth(true);\r\n      this.setUser(response.data.user);\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async addUser(login, password) {\r\n    try {\r\n      const response = await UserService.addUser(login, password);\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async getUsers() {\r\n    try {\r\n      const response = await UserService.getUsers();\r\n\r\n      return response;\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async searchUser(name) {\r\n    try {\r\n      const response = await UserService.searchUser(name);\r\n\r\n      return response;\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async removeUser(id) {\r\n    try {\r\n      const response = await UserService.removeUser(id);\r\n\r\n      return response;\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async changeUser(id, data) {\r\n    try {\r\n      const response = await UserService.changeUser(id, data);\r\n\r\n      return response;\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n\r\n  async saveNews(data) {\r\n    try {\r\n      const response = await UserService.saveNews(data);\r\n\r\n      return response;\r\n    } catch (e) {\r\n      console.log(e.response?.data?.message)\r\n    }\r\n  }\r\n}","import React, { createContext } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport Store from './store/store';\r\n\r\nconst store = new Store();\r\n\r\nexport const Context = createContext({\r\n  store,\r\n});\r\n\r\nReactDOM.render(\r\n  <Context.Provider value={{\r\n    store\r\n  }}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Context.Provider>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}